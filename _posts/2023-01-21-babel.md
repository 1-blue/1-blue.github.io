---
layout: post
title: babel
author: admin
date: 2023-01-21 07:27:00 +900
lastmod: 2023-01-21 07:27:00 +900
sitemap:
  changefreq: monthly
  priority: 0.5
categories: [FrontEnd, Util]
tags: [babel, babel.config.js, polyfill]
---

> í•´ë‹¹ í¬ìŠ¤íŠ¸ëŠ” `babel`ì— ëŒ€í•´ ì •ë¦¬í•œ í¬ìŠ¤íŠ¸ì…ë‹ˆë‹¤.<br />ì£¼ê´€ì ìœ¼ë¡œ í•´ì„í•œ ë‚´ìš©ì´ ë“¤ì–´ê°€ ìˆì–´ì„œ ì˜ëª»ëœ ë‚´ìš©ì´ í¬í•¨ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br />ì‚¬ìš© ê²½í—˜ì´ ê±°ì˜ ì—†ì–´ì„œ ê°€ë²¼ìš´ ë‚´ìš©ë§Œ ë‹´ê³  ìˆìŠµë‹ˆë‹¤.<br />
{: .prompt-info}

# ğŸª„ babel
ê³µì‹ ë¬¸ì„œì—ì„œëŠ” `Babel is a JavaScript compiler.`ë¼ê³  í•©ë‹ˆë‹¤.<br />
ì»´íŒŒì¼ëŸ¬ë³´ë‹¤ëŠ” íŠ¸ëœìŠ¤íŒŒì¼ëŸ¬ê°€ ì¡°ê¸ˆ ë” ì í™•í•œ í‘œí˜„ì¸ ê²ƒ ê°™ìŠµë‹ˆë‹¤. ( ë¬¼ë¡  ê°œì¸ì ì¸ ì˜ê²¬ì…ë‹ˆë‹¤... ğŸ¥² )<br />
ê·¸ëŸ¬ë©´ ì»´íŒŒì¼ëŸ¬ì™€ íŠ¸ëœìŠ¤íŒŒì¼ëŸ¬ê°€ ë¬´ì—‡ì¼ê¹Œìš”? ê·¸ ë¶€ë¶„ì€ [ì»´íŒŒì¼ëŸ¬/ì¸í„°í”„ë¦¬í„°/íŠ¸ëœìŠ¤íŒŒì¼ëŸ¬](/posts/compile-interpreter-transpile/){:target="_blank"}ë¥¼ ì°¸ê³ í•´ì£¼ì„¸ìš”!<br />

ê·¸ëŸ¬ë©´ íŠ¸ëœìŠ¤íŒŒì¼ëŸ¬ê°€ ì–´ë–¤ ì–¸ì–´ë¥¼ ë‹¤ë¥¸ ì–¸ì–´ë¡œ ë°”ê¿”ì£¼ëŠ” ê²ƒì´ë¼ê³  ì´í•´í–ˆëŠ”ë° ì´ê±¸ ì™œ ì“°ëŠ”ê±¸ê¹Œìš”?<br />

# ğŸ”ğŸ— babelì„ ì‚¬ìš©í•˜ëŠ” ì´ìœ 
ìš°ë¦¬ê°€ `JavaScript`ë¥¼ ì‚¬ìš©í•  ë•ŒëŠ” ì¼ë°˜ì ìœ¼ë¡œ ìµœì‹  ë¬¸ë²•ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ì„ í˜¸í•©ë‹ˆë‹¤.<br />

```js
const sum = (...args) => args.reduce((acc, curr) => acc + curr);
```

ìœ„ì²˜ëŸ¼ ëŒ€ë¶€ë¶„ì€ `function`ìœ¼ë¡œ í•¨ìˆ˜ í‘œí˜„ì‹ì„ ì‘ì„±í•˜ëŠ” ê²ƒë³´ë‹¨ í™”ì‚´í‘œ í•¨ìˆ˜ë¡œ í•¨ìˆ˜ í‘œí˜„ì‹ì„ ì‘ì„±í•˜ëŠ” ê²ƒì„ ë” ì„ í˜¸í•  ê²ƒì…ë‹ˆë‹¤.<br />
( `TMI`:: ì €ëŠ” í™”ì‚´í‘œ í•¨ìˆ˜ë¥¼ êµ‰ì¥íˆ ì¢‹ì•„í•©ë‹ˆë‹¤. )<br />

ì•„ë¬´íŠ¼ ê·¸ë˜ì„œ ìœ„ì²˜ëŸ¼ ì½”ë“œë¥¼ êµ¬ì„±í–ˆëŠ”ë° ì–´ë–¤ ë¸Œë¼ìš°ì €ì—ì„œëŠ” í™”ì‚´í‘œ í•¨ìˆ˜ë¥¼ ì§€ì›í•˜ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br />
ê·¸ëŸ° ê²½ìš°ëŠ” ì–´ë–»ê²Œ í•´ì•¼í• ê¹Œìš”? íŠ¹ì • ë¸Œë¼ìš°ì €ë¥¼ ìœ„í•´ì„œ ì‘ì„±í–ˆë˜ ëª¨ë“  í™”ì‚´í‘œ í•¨ìˆ˜ë¥¼ `function`ìœ¼ë¡œ ë°”ê¿”ì•¼í• ê¹Œìš”?<br />

ë­ ê·¸ë ‡ê²Œ í•´ê²°í•  ìˆ˜ ìˆê² ì§€ë§Œ ê·¸ëŸ¬ë©´ ë„ˆë¬´ í˜ë“¤ê³  ë¹„íš¨ìœ¨ì ì´ì£ .<br />
ê·¼ë° ê±°ê¸°ì—ë‹¤ê°€ `async/await`, `class`ê°™ì€ ë¬¸ë²•ë„ ì§€ì›í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ ëª¨ë‘ ë°”ê¿”ì£¼ëŠ” ê²ƒì€ ì—„ì²­ë‚œ ë…¸ê°€ë‹¤ê°€ ë  ê²ƒì…ë‹ˆë‹¤.<br />

ì´ëŸ´ ë•Œ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì´ `babel`ì„ ì´ìš©í•œ íŠ¸ëœìŠ¤íŒŒì¼ë§ì…ë‹ˆë‹¤.<br />

# ğŸ•¹ï¸ babelì„ ì‚¬ìš©í•˜ëŠ” ë°©ë²•
ì‚¬ì‹¤ ê¸€ì€ ì ê³  ìˆì§€ë§Œ ì‹¤ì œë¡œ ì‚¬ìš©í•´ ë³¸ ì ì€ ê±°ì˜ ì—†ìŠµë‹ˆë‹¤.<br />
ìµœê·¼ì—ëŠ” `create-react-app` / `create-next-app`ìœ¼ë¡œë§Œ ì„¸íŒ…ì„ í•´ì„œ ë‚´ë¶€ì ìœ¼ë¡œ `webpack`ìœ¼ë¡œ `babel`ì´ ì„¸íŒ…ë˜ì–´ ìˆì–´ì„œ ì œê°€ ê±´ë“œë¦´ ë¶€ë¶„ì´ ì—†ì—ˆìŠµë‹ˆë‹¤.<br />
( ì‚¬ì‹¤ `webpack`ì— ëŒ€í•œ ë‘ë ¤ì›€ì´ ìˆì–´ì„œ ê±´ë“œë¦´ ìƒê°ì„ ì•ˆí•©ë‹ˆë‹¤...ğŸ¥² )<br />

ê·¸ë˜ë„ ê°„ë‹¨í•˜ê²Œ ì–´ë–¤ ëŠë‚Œì¸ì§€ ì˜ˆì‹œë¥¼ ë“¤ì–´ë³´ê² ìŠµë‹ˆë‹¤.<br />

## 0ï¸âƒ£ ì„¤ì¹˜
ì¼ë‹¨ ë¨¼ì € `npm`ìœ¼ë¡œ `babel`ê³¼ ì›í•˜ëŠ” `plugin`ì„ ì„¤ì¹˜í•´ì•¼í•©ë‹ˆë‹¤.<br />

```bash
# "babel"ì„ "cli"ë¡œ ì‹¤í–‰ì‹œí‚¤ê¸° ìœ„í•´ ì„¤ì¹˜
npm i -D @babel/cli

# "arrow function"ì„ ì¼ë°˜ "function"ìœ¼ë¡œ íŠ¸ëœìŠ¤íŒŒì¼ë§í•  ë•Œ ì‚¬ìš©í•˜ëŠ” í”ŒëŸ¬ê·¸ì¸
npm i -D @babel/plugin-transform-arrow-functions

# "JSX"ë¥¼ "React" ë¬¸ë²•ìœ¼ë¡œ ë°”ê¿”ì£¼ëŠ” í”ŒëŸ¬ê·¸ì¸ ( "React.createElement()"ë¡œ ë°”ê¿”ì¤Œ )
npm i -D @babel/plugin-transform-react-jsx
```

## 1ï¸âƒ£ ëª…ë ¹ì–´
ê¸°ë³¸ì ìœ¼ë¡œ `cli`ë¥¼ í†µí•´ì„œ `babel`ì„ ì ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br />

+ `--plugins=<í”ŒëŸ¬ê·¸ì¸1[,í”ŒëŸ¬ê·¸ì¸2[,...]]>`: í”ŒëŸ¬ê·¸ì¸ ì ìš©
+ `--out-file <ê²½ë¡œ>`: íŠ¸ëœìŠ¤íŒŒì¼ë§ì˜ ê²°ê³¼ë¬¼ ìœ„ì¹˜ ì§€ì •

```bash
# (1) "cli"ì—ì„œë§Œ ê²°ê³¼ê°€ ì¶œë ¥ë©ë‹ˆë‹¤. ( "ES6/index.js"ëŠ” íŠ¸ëœìŠ¤íŒŒì¼ë§í•  íŒŒì¼ )
npx babel --plugins @babel/plugin-transform-arrow-functions ES6/index.js

# (2) "ES6/index.js" íŒŒì¼ì— ë‘ ê°€ì§€ì˜ í”„ëŸ¬ê·¸ì¸ì„ ì ìš©í•´ì„œ "ES5/index.js"ì— ìƒì„±í•´ì¤˜ ë¼ëŠ” ì˜ë¯¸ë¥¼ ê°–ëŠ” ëª…ë ¹ì–´ì…ë‹ˆë‹¤.
npx babel --plugins=@babel/plugin-transform-arrow-functions,@babel/plugin-transform-react-jsx ES6/index.js --out-file ES5/index.js
```

`(1)`ê³¼ `(2)`ë¥¼ ë³´ë©´ì„œ ëŠê»´ì§€ëŠ” ê²Œ ì½”ë“œê°€ ë„ˆë¬´ ê¸¸ê³  ì™¸ìš°ê¸° í˜ë“­ë‹ˆë‹¤.<br />
`package.json`ì˜ `scripts`ì— ì‘ì„±í•œë‹¤ê³  ì³ë„ ë„ˆë¬´ ê¸¸ê³  ìˆ˜ì •ì‚¬í•­ì„ ì‰½ê²Œ ë°˜ì˜í•˜ê¸°ê°€ í˜ë“  ë¬¸ì œê°€ ìˆìŠµë‹ˆë‹¤.<br />
ì´ëŸ° ë¶ˆí¸í•¨ì„ í•´ê²°í•˜ê¸° ìœ„í•´ì„œëŠ” `babel.config.js`ë¥¼ ì´ìš©í•˜ë©´ ë©ë‹ˆë‹¤.<br />

ê²½ë¡œê°€ ë§ë‹¤ê³  ì¹˜ê³  `(2)`ì„ ì‹¤í–‰í•œë‹¤ë©´ ì•„ë˜ì™€ ê°™ì´ ë³€í™˜ë©ë‹ˆë‹¤.<br />

```jsx
// ES6/index.js
const Commnet = () => <span>message</span>;

const Page = ({ children, isLoggedIn }) => {
  if (!isLoggedIn) return <span>You need to LogIn</span>;

  return (
    <>
      <span>Hello, Babel</span>
      {children}
    </>
  );
};

const App = () => {
  const obj = { x: 1, y: 2, z: 3 };

  return (
    <>
      {/* (3) */}
      <section>
        <Page isLoggedIn>
          <Commnet />
        </Page>
      </section>

      {/* (4) */}
      <section>
        <Page>{Commnet()}</Page>
      </section>

      {/* (5) */}
      <section>
        <Page {...obj} />
      </section>

      {/* (6) */}
      <section>
        <Page x={obj.x} y={obj.y} z={obj.z} />
      </section>
    </>
  );
};

// ES5/index.js
const Commnet = function () {
  return /*#__PURE__*/ React.createElement("span", null, "message");
};
const Page = function ({ children, isLoggedIn }) {
  if (!isLoggedIn)
    return /*#__PURE__*/ React.createElement("span", null, "You need to LogIn");
  return /*#__PURE__*/ React.createElement(
    React.Fragment,
    null,
    /*#__PURE__*/ React.createElement("span", null, "Hello, Babel"),
    children
  );
};
const App = function () {
  const obj = {
    x: 1,
    y: 2,
    z: 3,
  };
  return /*#__PURE__*/ React.createElement(
    React.Fragment,
    null,
    /* (3) */
    /*#__PURE__*/ React.createElement(
      "section",
      null,
      /*#__PURE__*/ React.createElement(
        Page,
        {
          isLoggedIn: true,
        },
        /*#__PURE__*/ React.createElement(Commnet, null)
      )
    ),
    /* (4) */
    /*#__PURE__*/ React.createElement(
      "section",
      null,
      /*#__PURE__*/ React.createElement(Page, null, Commnet())
    ),
    /* (5) */
    /*#__PURE__*/ React.createElement(
      "section",
      null,
      /*#__PURE__*/ React.createElement(Page, obj)
    ),
    /* (6) */
    /*#__PURE__*/ React.createElement(
      "section",
      null,
      /*#__PURE__*/ React.createElement(Page, {
        x: obj.x,
        y: obj.y,
        z: obj.z,
      })
    )
  );
};
```

+ `(3)`, `(4)`ì— ëŒ€í•œ ì°¨ì´ê°€ ê¶ê¸ˆí•˜ë‹¤ë©´ [ì§€ì—°í‰ê°€](/posts/Reactì˜-ë™ì‘ì—-ëŒ€í•œ-ê³ ì°°/#4%EF%B8%8Fâƒ£-ì§€ì—°-í‰ê°€){:target="_blank"}ë¥¼ ì½ì–´ë³´ì‹œëŠ” ê²ƒì„ ì¶”ì²œë“œë¦½ë‹ˆë‹¤.<br />

+ `/*#__PURE__*/`ëŠ” ê·¸ëƒ¥ ì£¼ì„ì´ ì•„ë‹Œ [Tree-Shaking](/posts/Tree-Shaking/){:target="_blank"}ì´ë‘ ì—°ê´€ìˆëŠ” ì–´ë…¸í…Œì´ì…˜ì…ë‹ˆë‹¤.<br />
( í•´ë‹¹ í•¨ìˆ˜ê°€ ì‚¬ì´ë“œì´í™íŠ¸ê°€ ì—†ëŠ” ìˆœìˆ˜ í•¨ìˆ˜ë¼ëŠ” ê²ƒì„ ì¦ëª…í•˜ëŠ” ì–´ë…¸í…Œì´ì…˜ì…ë‹ˆë‹¤. )<br />

## 2ï¸âƒ£ babel.config.js
`babel`ì— ëŒ€í•œ ê¸°ë³¸ ì„¸íŒ…ì„ ì‘ì„±í•˜ëŠ” íŒŒì¼ì…ë‹ˆë‹¤.<br />
ìµœìƒìœ„ì— `babel.config.js`ë¼ëŠ” íŒŒì¼ë§Œ ì‘ì„±í•´ë‘ë©´ `babel`ì„ ì‹¤í–‰í•  ë•Œ ìë™ìœ¼ë¡œ íŒŒì¼ì„ ì½ì–´ì„œ ì˜µì…˜ë“¤ì„ ì ìš©í•´ì¤ë‹ˆë‹¤.<br />

```js
// ì•„ë˜ì²˜ëŸ¼ ì‚¬ìš©í•˜ë©´ "(2)"ì—ì„œ ì ìš©í•œ í”ŒëŸ¬ê·¸ì¸ì„ ë˜‘ê°™ì´ ì ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
const presets = [];
const plugins = [
  "@babel/plugin-transform-arrow-functions",
  "@babel/plugin-transform-react-jsx",
];

module.exports = { presets, plugins };
```

ì´ì œëŠ” ì•„ë˜ì™€ ê°™ì€ ëª…ë ¹ì–´ë¥¼ ìˆ˜í–‰í•˜ë©´ í”ŒëŸ¬ê·¸ì¸ë“¤ì´ ìë™ìœ¼ë¡œ ì ìš©ë©ë‹ˆë‹¤.<br />

```bash
npx babel ES6/index.jsx --out-file ES5/index.jsx 
```

+ `presets`: ìì£¼ ì“°ëŠ” ìœ ìš©í•œ í”ŒëŸ¬ê·¸ì¸ë“¤ì„ í¬í•¨í•˜ê³  ìˆëŠ” í”ŒëŸ¬ê·¸ì¸ ( ìŠ¤íƒ€íŠ¸íŒ©ê°™ì€ ëŠë‚Œì´ì£  )<br />
( [babel-preset-react](https://babeljs.io/docs/en/babel-preset-react){:target="_blank"}ì„ í™•ì¸í•´ë³´ì‹œë©´ ì–´ë–¤ í”ŒëŸ¬ê·¸ì¸ë“¤ì´ ìˆê³  ì–´ë–»ê²Œ ì ìš©í•˜ëŠ”ì§€ ì•Œë ¤ì¤ë‹ˆë‹¤. )

# ğŸ“‡ polyfill
êµ¬í˜• ë¸Œë¼ìš°ì €ì—ì„œ ì§€ì›í•˜ì§€ ì•ŠëŠ” ê¸°ëŠ¥ì„ ì§€ì›í•´ì£¼ê¸° ìœ„í•´ì„œ ìê²¨ì˜¤ëŠ” ì½”ë“œ ë­‰ì¹˜ì…ë‹ˆë‹¤.<br />
ì˜ˆë¥¼ ë“¤ë©´ `Promise`ê°™ì€ ê²½ìš° `babel`ì˜ íŠ¸ëœìŠ¤íŒŒì¼ë§ìœ¼ë¡œ ë³€í™”ì‹œì¼œì¤„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.<br />
ë”°ë¼ì„œ `Promise`ì˜ ì½”ë“œ ë­‰ì¹˜ë¥¼ ëŸ°íƒ€ì„ì— ì¶”ê°€ì‹œì¼œì¤Œìœ¼ë¡œì¨ ë¬¸ì œ ì—†ì´ ë™ì‘í•  ìˆ˜ ìˆë„ë¡ ë„ì™€ì£¼ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤.<br />

# ğŸ“® ë ˆí¼ëŸ°ìŠ¤
1. [babel - cli](https://babeljs.io/docs/en/babel-cli){:target="_blank"}
1. [youtube(ì˜¥íƒ‘ë°©ê°œë°œì) - React ë¼ì´ë¸ŒëŸ¬ë¦¬ ê°œë°œì„ ìœ„í•œ - Babel ì´í•´í•˜ê¸°](https://www.youtube.com/watch?v=vUcd_fpIN7c){:target="_blank"}

1. [1-blue - ì§€ì—°í‰ê°€](/posts/Reactì˜-ë™ì‘ì—-ëŒ€í•œ-ê³ ì°°/#4%EF%B8%8Fâƒ£-ì§€ì—°-í‰ê°€){:target="_blank"}
1. [1-blue - Tree-Shaking](/posts/Tree-Shaking/){:target="_blank"}